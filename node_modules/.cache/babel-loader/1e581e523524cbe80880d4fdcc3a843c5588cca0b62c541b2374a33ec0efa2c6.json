{"ast":null,"code":"// src/pages/PropertyDetail.js\nimport React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import L from'leaflet';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PropertyDetail=()=>{const{id}=useParams();const[property,setProperty]=useState(null);const[showModal,setShowModal]=useState(false);useEffect(()=>{fetch(`/api/properties/${id}`).then(res=>res.json()).then(data=>setProperty(data));},[id]);const customIcon=new L.Icon({iconUrl:'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',iconSize:[25,41],iconAnchor:[12,41]});if(!property)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-6 md:p-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:property.image,alt:property.title,className:\"w-full h-[450px] object-cover rounded-xl shadow-md\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:property.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[property.address,\", \",property.city]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 text-3xl font-semibold mt-2 md:mt-0\",children:[\"\\u20B9\",property.price.toLocaleString()]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-7 mb-6\",children:property.description}),property.latitude&&property.longitude&&/*#__PURE__*/_jsx(\"div\",{className:\"h-[300px] w-full mb-6 rounded-xl overflow-hidden shadow\",children:/*#__PURE__*/_jsxs(MapContainer,{center:[property.latitude,property.longitude],zoom:14,style:{height:'100%',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Marker,{position:[property.latitude,property.longitude],icon:customIcon,children:/*#__PURE__*/_jsx(Popup,{children:property.title})})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(true),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\",children:\"Contact Seller\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl w-[90%] max-w-md shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Contact Seller\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 mb-2\",children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:property.sellerEmail})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 mb-4\",children:[\"Phone: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:property.sellerPhone||'N/A'})]}),/*#__PURE__*/_jsx(\"a\",{href:`mailto:${property.sellerEmail}`,className:\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Send Email\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),className:\"ml-4 inline-block text-gray-600 hover:text-red-500\",children:\"Cancel\"})]})})]});};export default PropertyDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","MapContainer","TileLayer","Marker","Popup","L","jsx","_jsx","jsxs","_jsxs","PropertyDetail","id","property","setProperty","showModal","setShowModal","fetch","then","res","json","data","customIcon","Icon","iconUrl","iconSize","iconAnchor","className","children","src","image","alt","title","address","city","price","toLocaleString","description","latitude","longitude","center","zoom","style","height","width","url","position","icon","onClick","sellerEmail","sellerPhone","href"],"sources":["D:/GeoEstateProjecttries/geoestate-frontend/src/pages/PropertyDetail.js"],"sourcesContent":["// src/pages/PropertyDetail.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\nconst PropertyDetail = () => {\r\n  const { id } = useParams();\r\n  const [property, setProperty] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/properties/${id}`)\r\n      .then(res => res.json())\r\n      .then(data => setProperty(data));\r\n  }, [id]);\r\n\r\n  const customIcon = new L.Icon({\r\n    iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n  });\r\n\r\n  if (!property) return <div className=\"text-center py-10\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6 md:p-10\">\r\n      {/* Image */}\r\n      <div className=\"mb-6\">\r\n        <img\r\n          src={property.image}\r\n          alt={property.title}\r\n          className=\"w-full h-[450px] object-cover rounded-xl shadow-md\"\r\n        />\r\n      </div>\r\n\r\n      {/* Title and Price */}\r\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">{property.title}</h1>\r\n          <p className=\"text-gray-600\">{property.address}, {property.city}</p>\r\n        </div>\r\n        <p className=\"text-blue-700 text-3xl font-semibold mt-2 md:mt-0\">\r\n          â‚¹{property.price.toLocaleString()}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Description */}\r\n      <p className=\"text-gray-700 leading-7 mb-6\">{property.description}</p>\r\n\r\n      {/* Map */}\r\n      {property.latitude && property.longitude && (\r\n        <div className=\"h-[300px] w-full mb-6 rounded-xl overflow-hidden shadow\">\r\n          <MapContainer\r\n            center={[property.latitude, property.longitude]}\r\n            zoom={14}\r\n            style={{ height: '100%', width: '100%' }}\r\n          >\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            <Marker\r\n              position={[property.latitude, property.longitude]}\r\n              icon={customIcon}\r\n            >\r\n              <Popup>{property.title}</Popup>\r\n            </Marker>\r\n          </MapContainer>\r\n        </div>\r\n      )}\r\n\r\n      {/* Contact Seller Button */}\r\n      <button\r\n        onClick={() => setShowModal(true)}\r\n        className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\"\r\n      >\r\n        Contact Seller\r\n      </button>\r\n\r\n      {/* Contact Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white p-6 rounded-xl w-[90%] max-w-md shadow-lg\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Contact Seller</h2>\r\n            <p className=\"text-gray-700 mb-2\">Email: <span className=\"font-medium\">{property.sellerEmail}</span></p>\r\n            <p className=\"text-gray-700 mb-4\">Phone: <span className=\"font-medium\">{property.sellerPhone || 'N/A'}</span></p>\r\n            <a\r\n              href={`mailto:${property.sellerEmail}`}\r\n              className=\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n            >\r\n              Send Email\r\n            </a>\r\n            <button\r\n              onClick={() => setShowModal(false)}\r\n              className=\"ml-4 inline-block text-gray-600 hover:text-red-500\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PropertyDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}