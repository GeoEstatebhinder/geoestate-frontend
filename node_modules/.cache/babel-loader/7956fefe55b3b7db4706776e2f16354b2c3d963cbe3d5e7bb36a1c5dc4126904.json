{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PropertyList(){const[properties,setProperties]=useState([]);const[search,setSearch]=useState('');const[cityFilter,setCityFilter]=useState('');const[minPrice,setMinPrice]=useState('');const[maxPrice,setMaxPrice]=useState('');const[selectedProperty,setSelectedProperty]=useState(null);const[message,setMessage]=useState('');useEffect(()=>{fetch('http://localhost:5000/api/properties').then(res=>res.json()).then(data=>setProperties(data));},[]);const filtered=properties.filter(p=>{const matchSearch=p.title.toLowerCase().includes(search.toLowerCase())||p.description.toLowerCase().includes(search.toLowerCase());const matchCity=cityFilter?p.city.toLowerCase()===cityFilter.toLowerCase():true;const matchMin=minPrice?p.price>=parseInt(minPrice):true;const matchMax=maxPrice?p.price<=parseInt(maxPrice):true;return matchSearch&&matchCity&&matchMin&&matchMax;});const handleContact=property=>{setSelectedProperty(property);};const closeModal=()=>{setSelectedProperty(null);setMessage('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:\"\\uD83D\\uDECD\\uFE0F Explore Properties\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title or description\",value:search,onChange:e=>setSearch(e.target.value),className:\"border p-2 rounded w-full sm:w-1/3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by city\",value:cityFilter,onChange:e=>setCityFilter(e.target.value),className:\"border p-2 rounded w-full sm:w-1/4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Min Price\",value:minPrice,onChange:e=>setMinPrice(e.target.value),className:\"border p-2 rounded w-full sm:w-1/5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max Price\",value:maxPrice,onChange:e=>setMaxPrice(e.target.value),className:\"border p-2 rounded w-full sm:w-1/5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\",children:filtered.map(property=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded shadow p-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:property.image,alt:property.title,className:\"w-full h-48 object-cover rounded mb-3\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:property.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:property.city}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-700 font-bold mb-2\",children:[\"\\u20B9 \",property.price.toLocaleString()]}),/*#__PURE__*/_jsx(Link,{to:`/property/${property._id}`,className:\"text-blue-600 underline\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleContact(property),className:\"mt-2 block bg-green-600 text-white px-3 py-1 rounded\",children:\"Contact Seller\"})]},property._id))}),selectedProperty&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-lg max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Contact Seller\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mb-4\",children:[\"\\uD83D\\uDCDE \",/*#__PURE__*/_jsx(\"strong\",{children:selectedProperty.contact})]}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",className:\"w-full border p-2 rounded mb-2\",placeholder:\"Your message to the seller...\",value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"bg-gray-300 px-3 py-1 rounded\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{alert(`‚úÖ Message sent to seller: ${message}`);closeModal();},className:\"bg-green-600 text-white px-3 py-1 rounded\",children:\"Send\"})]})]})})]});}export default PropertyList;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","PropertyList","properties","setProperties","search","setSearch","cityFilter","setCityFilter","minPrice","setMinPrice","maxPrice","setMaxPrice","selectedProperty","setSelectedProperty","message","setMessage","fetch","then","res","json","data","filtered","filter","p","matchSearch","title","toLowerCase","includes","description","matchCity","city","matchMin","price","parseInt","matchMax","handleContact","property","closeModal","className","children","type","placeholder","value","onChange","e","target","map","src","image","alt","toLocaleString","to","_id","onClick","contact","rows","alert"],"sources":["D:/GeoEstateProjecttries/geoestate-frontend/src/pages/PropertyList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PropertyList() {\r\n  const [properties, setProperties] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [cityFilter, setCityFilter] = useState('');\r\n  const [minPrice, setMinPrice] = useState('');\r\n  const [maxPrice, setMaxPrice] = useState('');\r\n  const [selectedProperty, setSelectedProperty] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/properties')\r\n      .then((res) => res.json())\r\n      .then((data) => setProperties(data));\r\n  }, []);\r\n\r\n  const filtered = properties.filter((p) => {\r\n    const matchSearch =\r\n      p.title.toLowerCase().includes(search.toLowerCase()) ||\r\n      p.description.toLowerCase().includes(search.toLowerCase());\r\n\r\n    const matchCity = cityFilter ? p.city.toLowerCase() === cityFilter.toLowerCase() : true;\r\n    const matchMin = minPrice ? p.price >= parseInt(minPrice) : true;\r\n    const matchMax = maxPrice ? p.price <= parseInt(maxPrice) : true;\r\n\r\n    return matchSearch && matchCity && matchMin && matchMax;\r\n  });\r\n\r\n  const handleContact = (property) => {\r\n    setSelectedProperty(property);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setSelectedProperty(null);\r\n    setMessage('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-4\">\r\n      <h1 className=\"text-3xl font-bold mb-4\">üõçÔ∏è Explore Properties</h1>\r\n\r\n      {/* Search & Filter */}\r\n      <div className=\"flex flex-wrap gap-2 mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by title or description\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border p-2 rounded w-full sm:w-1/3\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Filter by city\"\r\n          value={cityFilter}\r\n          onChange={(e) => setCityFilter(e.target.value)}\r\n          className=\"border p-2 rounded w-full sm:w-1/4\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Min Price\"\r\n          value={minPrice}\r\n          onChange={(e) => setMinPrice(e.target.value)}\r\n          className=\"border p-2 rounded w-full sm:w-1/5\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Max Price\"\r\n          value={maxPrice}\r\n          onChange={(e) => setMaxPrice(e.target.value)}\r\n          className=\"border p-2 rounded w-full sm:w-1/5\"\r\n        />\r\n      </div>\r\n\r\n      {/* Property Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n        {filtered.map((property) => (\r\n          <div key={property._id} className=\"border rounded shadow p-4\">\r\n            <img\r\n              src={property.image}\r\n              alt={property.title}\r\n              className=\"w-full h-48 object-cover rounded mb-3\"\r\n            />\r\n            <h2 className=\"text-xl font-semibold\">{property.title}</h2>\r\n            <p className=\"text-gray-600\">{property.city}</p>\r\n            <p className=\"text-green-700 font-bold mb-2\">‚Çπ {property.price.toLocaleString()}</p>\r\n            <Link to={`/property/${property._id}`} className=\"text-blue-600 underline\">\r\n              View Details\r\n            </Link>\r\n            <button\r\n              onClick={() => handleContact(property)}\r\n              className=\"mt-2 block bg-green-600 text-white px-3 py-1 rounded\"\r\n            >\r\n              Contact Seller\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Contact Modal */}\r\n      {selectedProperty && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n          <div className=\"bg-white p-6 rounded shadow-lg max-w-md w-full\">\r\n            <h2 className=\"text-xl font-semibold mb-2\">Contact Seller</h2>\r\n            <p className=\"text-sm mb-4\">\r\n              üìû <strong>{selectedProperty.contact}</strong>\r\n            </p>\r\n            <textarea\r\n              rows=\"4\"\r\n              className=\"w-full border p-2 rounded mb-2\"\r\n              placeholder=\"Your message to the seller...\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={closeModal}\r\n                className=\"bg-gray-300 px-3 py-1 rounded\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  alert(`‚úÖ Message sent to seller: ${message}`);\r\n                  closeModal();\r\n                }}\r\n                className=\"bg-green-600 text-white px-3 py-1 rounded\"\r\n              >\r\n                Send\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PropertyList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}